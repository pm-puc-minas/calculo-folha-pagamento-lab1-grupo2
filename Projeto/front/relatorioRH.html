<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relatórios de Folha - RH</title>
    <style>
        /* --- Reset e Identidade Visual (Global) --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background-color: #f0f2f5; color: #333; }

        /* --- Barra de Navegação --- */
        .navbar { background-color: #ffffff; height: 70px; display: flex; align-items: center; justify-content: space-between; padding: 0 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        .navbar-brand { font-size: 1.5rem; font-weight: bold; color: #007bff; text-decoration: none; }
        .nav-links { display: flex; list-style: none; gap: 20px; }
        .nav-links a { text-decoration: none; color: #555; font-weight: 500; padding: 8px 12px; border-radius: 5px; transition: all 0.3s; }
        .nav-links a.active { color: #007bff; background-color: #e9ecef; }
        .nav-links a:hover { background-color: #e9ecef; color: #007bff; }
        .btn-logout { padding: 8px 20px; background-color: transparent; border: 1px solid #dc3545; color: #dc3545; border-radius: 5px; cursor: pointer; font-weight: bold; transition: all 0.3s; }
        .btn-logout:hover { background-color: #dc3545; color: white; }

        /* --- Conteúdo Principal --- */
        .main-container { max-width: 1200px; margin: 40px auto; padding: 0 20px; }
        .header-section { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }

        /* Filtros */
        .filter-card { background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); margin-bottom: 25px; display: flex; gap: 15px; flex-wrap: wrap; align-items: end; }
        .filter-group { display: flex; flex-direction: column; gap: 5px; }
        .filter-group label { font-size: 0.9rem; font-weight: 500; color: #555; }
        .form-control { padding: 10px; border: 1px solid #ccc; border-radius: 5px; min-width: 150px; }
        .btn-filter { padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }

        /* Tabela */
        .results-card { background-color: #fff; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); overflow: hidden; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 15px 20px; text-align: left; border-bottom: 1px solid #eee; }
        th { background-color: #f8f9fa; color: #555; font-weight: 600; }
        tr:hover { background-color: #f1f3f5; }

        /* Botão Ver */
        .btn-view { background-color: #17a2b8; color: white; padding: 6px 12px; border: none; border-radius: 4px; cursor: pointer; font-size: 0.9rem; transition: opacity 0.3s; }
        .btn-view:hover { opacity: 0.8; }

        /* --- MODAL --- */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 1000; justify-content: center; align-items: center; }
        .modal-content { background-color: #fff; width: 90%; max-width: 800px; border-radius: 8px; box-shadow: 0 5px 25px rgba(0,0,0,0.2); animation: slideIn 0.3s ease; }
        @keyframes slideIn { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* Holerite Design */
        .holerite-paper { padding: 40px; border: 1px solid #ddd; margin: 20px; font-family: 'Courier New', Courier, monospace; }
        .holerite-header { border-bottom: 2px solid #333; margin-bottom: 20px; padding-bottom: 10px; display: flex; justify-content: space-between; }
        .holerite-table { width: 100%; margin-bottom: 20px; border: 1px solid #333; }
        .holerite-table th, .holerite-table td { border: 1px solid #ccc; padding: 8px; font-size: 0.9rem; }
        .holerite-footer { background-color: #f8f9fa; border: 1px solid #333; padding: 15px; display: flex; justify-content: space-between; font-weight: bold; }
        .modal-actions { padding: 15px 20px; background-color: #f8f9fa; border-top: 1px solid #eee; text-align: right; border-bottom-left-radius: 8px; border-bottom-right-radius: 8px; }
        .btn-close { background-color: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }

        @media (max-width: 768px) {
            .navbar { flex-direction: column; height: auto; padding: 15px; }
            .nav-links { margin: 15px 0; gap: 10px; }
            .filter-card { flex-direction: column; align-items: stretch; }
            .holerite-paper { padding: 10px; font-size: 0.8rem; }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <a href="home.html" class="navbar-brand">Portal Colaborador</a>
        
        <ul class="nav-links">
            <li><a href="gerenciamentoFuncionarioRH.html">Gerenciamento de Funcionários</a></li>
            <li><a href="FolhaPagamento.html">Folha de Pagamento</a></li>
            <li><a href="relatorio.html" class="active">Relatórios</a></li>
        </ul>

        <button onclick="window.location.href='login.html'" class="btn-logout">Logout</button>
    </nav>

    <main class="main-container">
        
        <div class="header-section">
            <h2>Relatório da Folha de Pagamento</h2>
        </div>

        <div class="filter-card">
            <div class="filter-group">
                <label>Competência:</label>
                <select class="form-control">
                    <option>Novembro/2025</option>
                    <option>Outubro/2025</option>
                    <option>Setembro/2025</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label>Departamento:</label>
                <select class="form-control">
                    <option value="todos">Todos</option>
                    <option value="ti">TI</option>
                    <option value="rh">RH</option>
                </select>
            </div>

            <div class="filter-group" style="flex: 1;">
                <label>Buscar Funcionário:</label>
                <input type="text" class="form-control" placeholder="Nome ou Matrícula">
            </div>

            <button class="btn-filter">Aplicar Filtros</button>
        </div>

        <div class="results-card">
            <table>
                <thead>
                    <tr>
                        <th>Matrícula</th>
                        <th>Funcionário</th>
                        <th>Cargo</th>
                        <th>Salário Bruto</th>
                        <th>Descontos</th>
                        <th>Líquido</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>2025002</td>
                        <td>Carlos Silva</td>
                        <td>Dev. Fullstack</td>
                        <td>R$ 8.500,00</td>
                        <td style="color: #dc3545;">- R$ 1.850,00</td>
                        <td style="color: #28a745; font-weight: bold;">R$ 6.650,00</td>
                        <td>
                            <button class="btn-view" onclick="abrirHolerite('Carlos Silva', 'Dev Fullstack', '8.500,00', '1.850,00', '6.650,00')">Ver Contracheque</button>
                        </td>
                    </tr>
                    <tr>
                        <td>2025001</td>
                        <td>Ana Souza</td>
                        <td>Analista RH</td>
                        <td>R$ 4.200,00</td>
                        <td style="color: #dc3545;">- R$ 520,00</td>
                        <td style="color: #28a745; font-weight: bold;">R$ 3.680,00</td>
                        <td>
                            <button class="btn-view" onclick="abrirHolerite('Ana Souza', 'Analista RH', '4.200,00', '520,00', '3.680,00')">Ver Contracheque</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </main>

    <div id="modalHolerite" class="modal-overlay">
        <div class="modal-content">
            <div class="holerite-paper">
                <div class="holerite-header">
                    <div>
                        <strong>EMPRESA TECH SOLUTIONS LTDA</strong><br>
                        CNPJ: 00.000.000/0001-99
                    </div>
                    <div style="text-align: right;">
                        <strong>Recibo de Pagamento</strong><br>
                        Ref: Novembro/2025
                    </div>
                </div>

                <div style="margin-bottom: 15px;">
                    <strong>Funcionário:</strong> <span id="modalNome">Nome</span><br>
                    <strong>Cargo:</strong> <span id="modalCargo">Cargo</span>
                </div>

                <table class="holerite-table">
                    <thead>
                        <tr style="background-color: #eee;">
                            <th>Cód.</th>
                            <th>Descrição</th>
                            <th>Ref.</th>
                            <th>Vencimentos</th>
                            <th>Descontos</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>001</td><td>Salário Base</td><td>30d</td><td id="modalBruto">0,00</td><td>0,00</td></tr>
                        <tr><td>102</td><td>INSS</td><td>11%</td><td>0,00</td><td>R$ 500,00</td></tr>
                        <tr><td>103</td><td>IRRF</td><td>7.5%</td><td>0,00</td><td id="modalDesconto">0,00</td></tr>
                    </tbody>
                </table>

                <div class="holerite-footer">
                    <div><span>Total Vencimentos</span><br><span id="footerBruto">0,00</span></div>
                    <div><span>Total Descontos</span><br><span id="footerDesconto" style="color: #dc3545;">0,00</span></div>
                    <div style="background-color: #ddd; padding: 5px 10px; border-radius: 4px;">
                        <span>Líquido a Receber</span><br><strong id="modalLiquido" style="font-size: 1.2rem;">0,00</strong>
                    </div>
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn-close" onclick="fecharHolerite()">Fechar</button>
                <button class="btn-filter" onclick="window.print()">Imprimir</button>
            </div>
        </div>
    </div>

    <script>
        function abrirHolerite(nome, cargo, bruto, desconto, liquido) {
            document.getElementById('modalNome').innerText = nome;
            document.getElementById('modalCargo').innerText = cargo;
            document.getElementById('modalBruto').innerText = "R$ " + bruto;
            document.getElementById('footerBruto').innerText = "R$ " + bruto;
            document.getElementById('modalDesconto').innerText = "R$ " + (parseFloat(desconto.replace('.','').replace(',','.')) - 500).toFixed(2).replace('.',','); 
            document.getElementById('footerDesconto').innerText = "R$ " + desconto;
            document.getElementById('modalLiquido').innerText = "R$ " + liquido;
            document.getElementById('modalHolerite').style.display = 'flex';
        }

        function fecharHolerite() {
            document.getElementById('modalHolerite').style.display = 'none';
        }

        window.onclick = function(event) {
            const modal = document.getElementById('modalHolerite');
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    </script>

</body>
</html>