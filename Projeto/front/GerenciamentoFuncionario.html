<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Perfil - Colaborador</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background-color: #f0f2f5; color: #333; }
        .navbar { background-color: #ffffff; height: 70px; display: flex; align-items: center; justify-content: space-between; padding: 0 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        .navbar-brand { font-size: 1.5rem; font-weight: bold; color: #007bff; text-decoration: none; }
        .nav-links { display: flex; list-style: none; gap: 20px; }
        .nav-links a { text-decoration: none; color: #555; font-weight: 500; padding: 8px 12px; border-radius: 5px; transition: all 0.3s; }
        .nav-links a.active { color: #007bff; background-color: #e9ecef; }
        .nav-links a:hover { background-color: #e9ecef; color: #007bff; }
        .btn-logout { padding: 8px 20px; background-color: transparent; border: 1px solid #dc3545; color: #dc3545; border-radius: 5px; cursor: pointer; font-weight: bold; transition: all 0.3s; }
        .btn-logout:hover { background-color: #dc3545; color: white; }
        .main-container { max-width: 900px; margin: 40px auto; padding: 0 20px; }
        .profile-card { background-color: #ffffff; border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05); overflow: hidden; }
        .profile-header { background: linear-gradient(135deg, #007bff, #0056b3); padding: 40px 20px; text-align: center; color: white; }
        .avatar-circle { width: 100px; height: 100px; background-color: white; border-radius: 50%; margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; color: #007bff; font-weight: bold; border: 4px solid rgba(255,255,255,0.3); }
        .profile-header h2 { margin-bottom: 5px; }
        .profile-header p { opacity: 0.9; }
        .profile-body { padding: 30px; }
        .section-title { font-size: 1.1rem; color: #007bff; margin-bottom: 20px; border-bottom: 2px solid #f0f2f5; padding-bottom: 10px; margin-top: 20px; }
        .section-title:first-child { margin-top: 0; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; color: #555; font-weight: 500; font-size: 0.9rem; }
        .form-group input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 1rem; background-color: #fff; }
        .form-group input:disabled, .form-group input[readonly] { background-color: #e9ecef; color: #666; cursor: not-allowed; border-color: #ddd; }
        .action-buttons { margin-top: 30px; text-align: right; border-top: 1px solid #eee; padding-top: 20px; }
        .btn-primary { background-color: #007bff; color: white; padding: 10px 25px; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; transition: background-color 0.3s; }
        .btn-primary:hover { background-color: #0056b3; }
        .btn-secondary { background-color: #6c757d; color: white; padding: 10px 25px; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; margin-right: 10px; }
        .hidden { display: none; }
        @media (max-width: 768px) {
            .navbar { flex-direction: column; height: auto; padding: 15px; }
            .nav-links { flex-direction: column; gap: 10px; margin: 15px 0; }
            .form-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <a href="inicioFuncionario.html" class="navbar-brand">Portal Colaborador</a>
        
        <ul class="nav-links">
            <li><a href="GerenciamentoFuncionario.html" class="active">Meu Perfil</a></li>
            
            <li><a href="FolhaPagamento.html">Folha de Pagamento</a></li>
            <li><a href="relatorio.html">Relatórios</a></li>
        </ul>
        
        <button onclick="window.location.href='login.html'" class="btn-logout">Logout</button>
    </nav>

    <main class="main-container">
        <div class="profile-card">
            <div class="profile-header">
                <div class="avatar-circle">CS</div>
                <h2>Carlos Silva</h2>
                <p>Desenvolvedor Fullstack Sênior</p>
            </div>
            <div class="profile-body">
                <form id="perfilForm">
                    <h3 class="section-title">Dados Corporativos (Somente Leitura)</h3>
                    <div class="form-grid">
                        <div class="form-group"><label>Matrícula</label><input type="text" value="2025002" disabled></div>
                        <div class="form-group"><label>Departamento</label><input type="text" value="Tecnologia da Informação" disabled></div>
                        <div class="form-group"><label>Data de Admissão</label><input type="text" value="15/03/2023" disabled></div>
                        <div class="form-group"><label>E-mail Corporativo</label><input type="email" value="carlos.silva@empresa.com" disabled></div>
                    </div>
                    <h3 class="section-title">Dados Pessoais e Contato</h3>
                    <div class="form-grid">
                        <div class="form-group"><label for="cpf">CPF</label><input type="text" id="cpf" value="123.456.789-00" disabled></div>
                        <div class="form-group"><label for="nascimento">Data de Nascimento</label><input type="text" id="nascimento" value="10/05/1990" disabled></div>
                        <div class="form-group"><label for="telefone">Telefone / Celular</label><input type="text" id="telefone" class="editable" value="(11) 99999-8888" disabled></div>
                        <div class="form-group"><label for="endereco">Endereço Completo</label><input type="text" id="endereco" class="editable" value="Rua das Flores, 123 - Centro" disabled></div>
                    </div>
                    <div class="action-buttons">
                        <button type="button" id="btnEditar" class="btn-primary" onclick="habilitarEdicao()">Editar Dados</button>
                        <div id="groupSalvar" class="hidden">
                            <button type="button" class="btn-secondary" onclick="cancelarEdicao()">Cancelar</button>
                            <button type="submit" class="btn-primary">Salvar Alterações</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <script>
        function habilitarEdicao() {
            const camposEditaveis = document.querySelectorAll('.editable');
            camposEditaveis.forEach(campo => { campo.disabled = false; campo.style.borderColor = "#007bff"; });
            document.getElementById('btnEditar').classList.add('hidden');
            document.getElementById('groupSalvar').classList.remove('hidden');
        }
        function cancelarEdicao() {
            const camposEditaveis = document.querySelectorAll('.editable');
            camposEditaveis.forEach(campo => { campo.disabled = true; campo.style.borderColor = "#ccc"; });
            document.getElementById('groupSalvar').classList.add('hidden');
            document.getElementById('btnEditar').classList.remove('hidden');
        }
        document.getElementById('perfilForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert("Dados atualizados com sucesso!");
            cancelarEdicao();
        });
    </script>

    <script src="js/Config.js"></script>
    <script src="js/AuthClient.js"></script>
    <script src="js/AuthService.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            AuthService.inicializar();
        });
    </script>

</body>
</html>